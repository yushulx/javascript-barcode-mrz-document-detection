<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/dynamsoft-camera-enhancer@3.3.9/dist/dce.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dynamsoft-javascript-barcode@9.6.32/dist/dbr.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dynamsoft-document-normalizer@1.0.12/dist/ddn.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dynamsoft-label-recognizer@2.2.31/dist/dlr.js"></script>
    <script src="utils.js"></script>
    <script src="mrz-parser.js"></script>
    <title>Dynamsoft Vision SDKs</title>
</head>

<body>
    <h1>Scan Barcode, Document and Machine-readable Zone (MRZ)</h1>
    <div id="loading-indicator" class="loading-indicator">
        <div class="spinner"></div>
    </div>

    <!-- Get Dynamsoft Products -->
    <div class="container">
        <div class="row">
            <div>
                <label>
                    Get a License key from <a href="https://www.dynamsoft.com/customer/license/trialLicense"
                        target="_blank">here</a>
                </label>
                <input type="text" id="license_key" style="width: 100%;"
                    value="DLS2eyJoYW5kc2hha2VDb2RlIjoiMjAwMDAxLTE2NDk4Mjk3OTI2MzUiLCJvcmdhbml6YXRpb25JRCI6IjIwMDAwMSIsInNlc3Npb25QYXNzd29yZCI6IndTcGR6Vm05WDJrcEQ5YUoifQ=="
                    placeholder="DLS2eyJoYW5kc2hha2VDb2RlIjoiMjAwMDAxLTE2NDk4Mjk3OTI2MzUiLCJvcmdhbml6YXRpb25JRCI6IjIwMDAwMSIsInNlc3Npb25QYXNzd29yZCI6IndTcGR6Vm05WDJrcEQ5YUoifQ==">
                <button onclick="activate()">Activate SDK</button>
            </div>
        </div>

        <div class="row">
            <div>
                <select onchange="selectChanged()" id="dropdown">
                    <option value="file">File</option>
                    <option value="camera">Camera</option>
                </select>
            </div>
        </div>
    </div>

    <!-- Image File -->
    <div class="container" id="file_container">
        <div>
            <input type="file" id="pick_file" accept="image/*" />
            <button onclick="detect()">Detect</button>
            <input type="checkbox" id="barcode_checkbox" checked>Barcode
            <input type="checkbox" id="mrz_checkbox" checked>MRZ
            <input type="checkbox" id="document_checkbox" checked>Document
        </div>

        <div class="row">
            <div class="imageview">
                <img id="image_file" src="default.png" />
                <canvas id="canvas"></canvas>
            </div>
        </div>

        <div class="row">
            <div>
                <textarea id="detection_result"></textarea>
            </div>
        </div>

        <div class="row">
            <div>
                <img id="document-rectified-image" />
            </div>
        </div>

    </div>

    <!-- Camera Stream -->
    <div class="container" id="camera_container">
        <div>
            <button onclick="scan()">Detect</button>
            <input type="checkbox" name="format" value="grayscale" onchange="checkboxChanged()">Grayscale
            <input type="checkbox" name="format" value="color" onchange="checkboxChanged()">Color
            <input type="checkbox" name="format" value="binary" onchange="checkboxChanged()">B&W
        </div>

        <div class="row">
            <div>
                <textarea id="scan_result"></textarea>
            </div>
        </div>

    </div>

    <script src="main.js"></script>
</body>

</html>